{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> Importing libraries and reading data files "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "#importing libraries\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import os\n",
    "from math import sin, cos, sqrt, atan2, radians\n",
    "import statsmodels.formula.api as sm\n",
    "from folium import plugins\n",
    "import matplotlib.pylab as plt #Typically matplotlib.pylab is imported as plt (shortened name)\n",
    "%matplotlib inline \n",
    "#The above line is necessary so that figures are displayed on the webpage instead of separate pop-ups\n",
    "import seaborn as sns\n",
    "import time\n",
    "import folium"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "#importing last 4 years Divvy data\n",
    "data=pd.read_csv('datanew.csv')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "scrolled": true
   },
   "source": [
    "# Data Cleaning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Unnamed: 0           0\n",
       "trip_id              0\n",
       "year                 0\n",
       "month                0\n",
       "week                 0\n",
       "day                  0\n",
       "hour                 0\n",
       "usertype             0\n",
       "gender               0\n",
       "starttime            0\n",
       "stoptime             0\n",
       "tripduration         0\n",
       "temperature          0\n",
       "events               0\n",
       "from_station_id      0\n",
       "from_station_name    0\n",
       "latitude_start       0\n",
       "longitude_start      0\n",
       "dpcapacity_start     0\n",
       "to_station_id        0\n",
       "to_station_name      0\n",
       "latitude_end         0\n",
       "longitude_end        0\n",
       "dpcapacity_end       0\n",
       "dtype: int64"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#checking for null values in the data\n",
    "t0=time.time()\n",
    "data.isnull().sum()\n",
    "#we didn't get any null values in the data, so we can go ahead with this data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Unnamed: 0</th>\n",
       "      <th>trip_id</th>\n",
       "      <th>year</th>\n",
       "      <th>month</th>\n",
       "      <th>week</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>usertype</th>\n",
       "      <th>gender</th>\n",
       "      <th>starttime</th>\n",
       "      <th>...</th>\n",
       "      <th>from_station_id</th>\n",
       "      <th>from_station_name</th>\n",
       "      <th>latitude_start</th>\n",
       "      <th>longitude_start</th>\n",
       "      <th>dpcapacity_start</th>\n",
       "      <th>to_station_id</th>\n",
       "      <th>to_station_name</th>\n",
       "      <th>latitude_end</th>\n",
       "      <th>longitude_end</th>\n",
       "      <th>dpcapacity_end</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>6537545</td>\n",
       "      <td>13518905</td>\n",
       "      <td>2017</td>\n",
       "      <td>3</td>\n",
       "      <td>13</td>\n",
       "      <td>4</td>\n",
       "      <td>23</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-03-31 23:59:07</td>\n",
       "      <td>...</td>\n",
       "      <td>66</td>\n",
       "      <td>Clinton St &amp; Lake St</td>\n",
       "      <td>41.885637</td>\n",
       "      <td>-87.641823</td>\n",
       "      <td>23.0</td>\n",
       "      <td>171</td>\n",
       "      <td>May St &amp; Cullerton St</td>\n",
       "      <td>41.855136</td>\n",
       "      <td>-87.654127</td>\n",
       "      <td>11.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>6537546</td>\n",
       "      <td>13518904</td>\n",
       "      <td>2017</td>\n",
       "      <td>3</td>\n",
       "      <td>13</td>\n",
       "      <td>4</td>\n",
       "      <td>23</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-03-31 23:56:25</td>\n",
       "      <td>...</td>\n",
       "      <td>199</td>\n",
       "      <td>Wabash Ave &amp; Grand Ave</td>\n",
       "      <td>41.890912</td>\n",
       "      <td>-87.626804</td>\n",
       "      <td>15.0</td>\n",
       "      <td>26</td>\n",
       "      <td>McClurg Ct &amp; Illinois St</td>\n",
       "      <td>41.891020</td>\n",
       "      <td>-87.617300</td>\n",
       "      <td>31.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>6537547</td>\n",
       "      <td>13518903</td>\n",
       "      <td>2017</td>\n",
       "      <td>3</td>\n",
       "      <td>13</td>\n",
       "      <td>4</td>\n",
       "      <td>23</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Female</td>\n",
       "      <td>2017-03-31 23:55:33</td>\n",
       "      <td>...</td>\n",
       "      <td>520</td>\n",
       "      <td>Greenview Ave &amp; Jarvis Ave</td>\n",
       "      <td>42.015962</td>\n",
       "      <td>-87.668570</td>\n",
       "      <td>23.0</td>\n",
       "      <td>432</td>\n",
       "      <td>Clark St &amp; Lunt Ave</td>\n",
       "      <td>42.009074</td>\n",
       "      <td>-87.674190</td>\n",
       "      <td>19.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>6537548</td>\n",
       "      <td>13518902</td>\n",
       "      <td>2017</td>\n",
       "      <td>3</td>\n",
       "      <td>13</td>\n",
       "      <td>4</td>\n",
       "      <td>23</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-03-31 23:54:46</td>\n",
       "      <td>...</td>\n",
       "      <td>110</td>\n",
       "      <td>Dearborn St &amp; Erie St</td>\n",
       "      <td>41.893992</td>\n",
       "      <td>-87.629318</td>\n",
       "      <td>23.0</td>\n",
       "      <td>142</td>\n",
       "      <td>McClurg Ct &amp; Erie St</td>\n",
       "      <td>41.894503</td>\n",
       "      <td>-87.617854</td>\n",
       "      <td>31.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>6537549</td>\n",
       "      <td>13518901</td>\n",
       "      <td>2017</td>\n",
       "      <td>3</td>\n",
       "      <td>13</td>\n",
       "      <td>4</td>\n",
       "      <td>23</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Female</td>\n",
       "      <td>2017-03-31 23:53:33</td>\n",
       "      <td>...</td>\n",
       "      <td>327</td>\n",
       "      <td>Sheffield Ave &amp; Webster Ave</td>\n",
       "      <td>41.921540</td>\n",
       "      <td>-87.653818</td>\n",
       "      <td>19.0</td>\n",
       "      <td>331</td>\n",
       "      <td>Halsted St &amp; Blackhawk St (*)</td>\n",
       "      <td>41.908537</td>\n",
       "      <td>-87.648627</td>\n",
       "      <td>20.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows Ã— 24 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "   Unnamed: 0   trip_id  year  month  week  day  hour    usertype  gender  \\\n",
       "0     6537545  13518905  2017      3    13    4    23  Subscriber    Male   \n",
       "1     6537546  13518904  2017      3    13    4    23  Subscriber    Male   \n",
       "2     6537547  13518903  2017      3    13    4    23  Subscriber  Female   \n",
       "3     6537548  13518902  2017      3    13    4    23  Subscriber    Male   \n",
       "4     6537549  13518901  2017      3    13    4    23  Subscriber  Female   \n",
       "\n",
       "             starttime       ...       from_station_id  \\\n",
       "0  2017-03-31 23:59:07       ...                    66   \n",
       "1  2017-03-31 23:56:25       ...                   199   \n",
       "2  2017-03-31 23:55:33       ...                   520   \n",
       "3  2017-03-31 23:54:46       ...                   110   \n",
       "4  2017-03-31 23:53:33       ...                   327   \n",
       "\n",
       "             from_station_name  latitude_start longitude_start  \\\n",
       "0         Clinton St & Lake St       41.885637      -87.641823   \n",
       "1       Wabash Ave & Grand Ave       41.890912      -87.626804   \n",
       "2   Greenview Ave & Jarvis Ave       42.015962      -87.668570   \n",
       "3        Dearborn St & Erie St       41.893992      -87.629318   \n",
       "4  Sheffield Ave & Webster Ave       41.921540      -87.653818   \n",
       "\n",
       "   dpcapacity_start to_station_id                to_station_name  \\\n",
       "0              23.0           171          May St & Cullerton St   \n",
       "1              15.0            26       McClurg Ct & Illinois St   \n",
       "2              23.0           432            Clark St & Lunt Ave   \n",
       "3              23.0           142           McClurg Ct & Erie St   \n",
       "4              19.0           331  Halsted St & Blackhawk St (*)   \n",
       "\n",
       "   latitude_end  longitude_end  dpcapacity_end  \n",
       "0     41.855136     -87.654127            11.0  \n",
       "1     41.891020     -87.617300            31.0  \n",
       "2     42.009074     -87.674190            19.0  \n",
       "3     41.894503     -87.617854            31.0  \n",
       "4     41.908537     -87.648627            20.0  \n",
       "\n",
       "[5 rows x 24 columns]"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#since the data for 4 years is huge, we are using only 2017 data to perform our analysis\n",
    "datan=data[data['year']==2017]\n",
    "datan.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>trip_id</th>\n",
       "      <th>year</th>\n",
       "      <th>month</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>usertype</th>\n",
       "      <th>gender</th>\n",
       "      <th>starttime</th>\n",
       "      <th>stoptime</th>\n",
       "      <th>tripduration</th>\n",
       "      <th>...</th>\n",
       "      <th>from_station_id</th>\n",
       "      <th>from_station_name</th>\n",
       "      <th>latitude_start</th>\n",
       "      <th>longitude_start</th>\n",
       "      <th>dpcapacity_start</th>\n",
       "      <th>to_station_id</th>\n",
       "      <th>to_station_name</th>\n",
       "      <th>latitude_end</th>\n",
       "      <th>longitude_end</th>\n",
       "      <th>dpcapacity_end</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>385358</th>\n",
       "      <td>12979231</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:02:54</td>\n",
       "      <td>2017-01-01 00:08:21</td>\n",
       "      <td>5.450000</td>\n",
       "      <td>...</td>\n",
       "      <td>28</td>\n",
       "      <td>Larrabee St &amp; Menomonee St</td>\n",
       "      <td>41.914680</td>\n",
       "      <td>-87.643320</td>\n",
       "      <td>15.0</td>\n",
       "      <td>20</td>\n",
       "      <td>Sheffield Ave &amp; Kingsbury St</td>\n",
       "      <td>41.910522</td>\n",
       "      <td>-87.653106</td>\n",
       "      <td>15.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>385357</th>\n",
       "      <td>12979232</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:06:06</td>\n",
       "      <td>2017-01-01 00:18:31</td>\n",
       "      <td>12.416667</td>\n",
       "      <td>...</td>\n",
       "      <td>620</td>\n",
       "      <td>Orleans St &amp; Chestnut St (NEXT Apts)</td>\n",
       "      <td>41.898203</td>\n",
       "      <td>-87.637536</td>\n",
       "      <td>15.0</td>\n",
       "      <td>333</td>\n",
       "      <td>Ashland Ave &amp; Blackhawk St</td>\n",
       "      <td>41.907066</td>\n",
       "      <td>-87.667252</td>\n",
       "      <td>15.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>385356</th>\n",
       "      <td>12979233</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:07:28</td>\n",
       "      <td>2017-01-01 00:12:51</td>\n",
       "      <td>5.383333</td>\n",
       "      <td>...</td>\n",
       "      <td>287</td>\n",
       "      <td>Franklin St &amp; Monroe St</td>\n",
       "      <td>41.880317</td>\n",
       "      <td>-87.635185</td>\n",
       "      <td>27.0</td>\n",
       "      <td>68</td>\n",
       "      <td>Clinton St &amp; Tilden St</td>\n",
       "      <td>41.875885</td>\n",
       "      <td>-87.640795</td>\n",
       "      <td>23.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>385355</th>\n",
       "      <td>12979234</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:07:57</td>\n",
       "      <td>2017-01-01 00:20:53</td>\n",
       "      <td>12.933333</td>\n",
       "      <td>...</td>\n",
       "      <td>300</td>\n",
       "      <td>Broadway &amp; Barry Ave</td>\n",
       "      <td>41.937725</td>\n",
       "      <td>-87.644095</td>\n",
       "      <td>19.0</td>\n",
       "      <td>118</td>\n",
       "      <td>Sedgwick St &amp; North Ave</td>\n",
       "      <td>41.911386</td>\n",
       "      <td>-87.638677</td>\n",
       "      <td>19.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>385354</th>\n",
       "      <td>12979235</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:10:44</td>\n",
       "      <td>2017-01-01 00:21:27</td>\n",
       "      <td>10.716667</td>\n",
       "      <td>...</td>\n",
       "      <td>47</td>\n",
       "      <td>State St &amp; Kinzie St</td>\n",
       "      <td>41.889187</td>\n",
       "      <td>-87.627754</td>\n",
       "      <td>31.0</td>\n",
       "      <td>175</td>\n",
       "      <td>Wells St &amp; Polk St</td>\n",
       "      <td>41.872596</td>\n",
       "      <td>-87.633502</td>\n",
       "      <td>19.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows Ã— 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "         trip_id  year  month  day  hour    usertype gender  \\\n",
       "385358  12979231  2017      1    6     0  Subscriber   Male   \n",
       "385357  12979232  2017      1    6     0  Subscriber   Male   \n",
       "385356  12979233  2017      1    6     0  Subscriber   Male   \n",
       "385355  12979234  2017      1    6     0  Subscriber   Male   \n",
       "385354  12979235  2017      1    6     0  Subscriber   Male   \n",
       "\n",
       "                  starttime             stoptime  tripduration  \\\n",
       "385358  2017-01-01 00:02:54  2017-01-01 00:08:21      5.450000   \n",
       "385357  2017-01-01 00:06:06  2017-01-01 00:18:31     12.416667   \n",
       "385356  2017-01-01 00:07:28  2017-01-01 00:12:51      5.383333   \n",
       "385355  2017-01-01 00:07:57  2017-01-01 00:20:53     12.933333   \n",
       "385354  2017-01-01 00:10:44  2017-01-01 00:21:27     10.716667   \n",
       "\n",
       "             ...        from_station_id                     from_station_name  \\\n",
       "385358       ...                     28            Larrabee St & Menomonee St   \n",
       "385357       ...                    620  Orleans St & Chestnut St (NEXT Apts)   \n",
       "385356       ...                    287               Franklin St & Monroe St   \n",
       "385355       ...                    300                  Broadway & Barry Ave   \n",
       "385354       ...                     47                  State St & Kinzie St   \n",
       "\n",
       "        latitude_start longitude_start  dpcapacity_start  to_station_id  \\\n",
       "385358       41.914680      -87.643320              15.0             20   \n",
       "385357       41.898203      -87.637536              15.0            333   \n",
       "385356       41.880317      -87.635185              27.0             68   \n",
       "385355       41.937725      -87.644095              19.0            118   \n",
       "385354       41.889187      -87.627754              31.0            175   \n",
       "\n",
       "                     to_station_name  latitude_end longitude_end  \\\n",
       "385358  Sheffield Ave & Kingsbury St     41.910522    -87.653106   \n",
       "385357    Ashland Ave & Blackhawk St     41.907066    -87.667252   \n",
       "385356        Clinton St & Tilden St     41.875885    -87.640795   \n",
       "385355       Sedgwick St & North Ave     41.911386    -87.638677   \n",
       "385354            Wells St & Polk St     41.872596    -87.633502   \n",
       "\n",
       "        dpcapacity_end  \n",
       "385358            15.0  \n",
       "385357            15.0  \n",
       "385356            23.0  \n",
       "385355            19.0  \n",
       "385354            19.0  \n",
       "\n",
       "[5 rows x 22 columns]"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "datan=datan.sort_values('trip_id')\n",
    "datan=datan.drop(columns=['week'])\n",
    "datan=datan.drop(columns=['Unnamed: 0']) #dropping irrelevant columns\n",
    "datan=datan.sort_values('trip_id')\n",
    "datan.head()\n",
    "#Dropping the unecessary columns"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "datan=datan.reset_index()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>trip_id</th>\n",
       "      <th>year</th>\n",
       "      <th>month</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>usertype</th>\n",
       "      <th>gender</th>\n",
       "      <th>starttime</th>\n",
       "      <th>stoptime</th>\n",
       "      <th>tripduration</th>\n",
       "      <th>...</th>\n",
       "      <th>from_station_id</th>\n",
       "      <th>from_station_name</th>\n",
       "      <th>latitude_start</th>\n",
       "      <th>longitude_start</th>\n",
       "      <th>dpcapacity_start</th>\n",
       "      <th>to_station_id</th>\n",
       "      <th>to_station_name</th>\n",
       "      <th>latitude_end</th>\n",
       "      <th>longitude_end</th>\n",
       "      <th>dpcapacity_end</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>12979231</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:02:54</td>\n",
       "      <td>2017-01-01 00:08:21</td>\n",
       "      <td>5.450000</td>\n",
       "      <td>...</td>\n",
       "      <td>28</td>\n",
       "      <td>Larrabee St &amp; Menomonee St</td>\n",
       "      <td>41.914680</td>\n",
       "      <td>-87.643320</td>\n",
       "      <td>15.0</td>\n",
       "      <td>20</td>\n",
       "      <td>Sheffield Ave &amp; Kingsbury St</td>\n",
       "      <td>41.910522</td>\n",
       "      <td>-87.653106</td>\n",
       "      <td>15.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>12979232</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:06:06</td>\n",
       "      <td>2017-01-01 00:18:31</td>\n",
       "      <td>12.416667</td>\n",
       "      <td>...</td>\n",
       "      <td>620</td>\n",
       "      <td>Orleans St &amp; Chestnut St (NEXT Apts)</td>\n",
       "      <td>41.898203</td>\n",
       "      <td>-87.637536</td>\n",
       "      <td>15.0</td>\n",
       "      <td>333</td>\n",
       "      <td>Ashland Ave &amp; Blackhawk St</td>\n",
       "      <td>41.907066</td>\n",
       "      <td>-87.667252</td>\n",
       "      <td>15.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>12979233</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:07:28</td>\n",
       "      <td>2017-01-01 00:12:51</td>\n",
       "      <td>5.383333</td>\n",
       "      <td>...</td>\n",
       "      <td>287</td>\n",
       "      <td>Franklin St &amp; Monroe St</td>\n",
       "      <td>41.880317</td>\n",
       "      <td>-87.635185</td>\n",
       "      <td>27.0</td>\n",
       "      <td>68</td>\n",
       "      <td>Clinton St &amp; Tilden St</td>\n",
       "      <td>41.875885</td>\n",
       "      <td>-87.640795</td>\n",
       "      <td>23.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>12979234</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:07:57</td>\n",
       "      <td>2017-01-01 00:20:53</td>\n",
       "      <td>12.933333</td>\n",
       "      <td>...</td>\n",
       "      <td>300</td>\n",
       "      <td>Broadway &amp; Barry Ave</td>\n",
       "      <td>41.937725</td>\n",
       "      <td>-87.644095</td>\n",
       "      <td>19.0</td>\n",
       "      <td>118</td>\n",
       "      <td>Sedgwick St &amp; North Ave</td>\n",
       "      <td>41.911386</td>\n",
       "      <td>-87.638677</td>\n",
       "      <td>19.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>12979235</td>\n",
       "      <td>2017</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>Subscriber</td>\n",
       "      <td>Male</td>\n",
       "      <td>2017-01-01 00:10:44</td>\n",
       "      <td>2017-01-01 00:21:27</td>\n",
       "      <td>10.716667</td>\n",
       "      <td>...</td>\n",
       "      <td>47</td>\n",
       "      <td>State St &amp; Kinzie St</td>\n",
       "      <td>41.889187</td>\n",
       "      <td>-87.627754</td>\n",
       "      <td>31.0</td>\n",
       "      <td>175</td>\n",
       "      <td>Wells St &amp; Polk St</td>\n",
       "      <td>41.872596</td>\n",
       "      <td>-87.633502</td>\n",
       "      <td>19.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows Ã— 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "    trip_id  year  month  day  hour    usertype gender            starttime  \\\n",
       "0  12979231  2017      1    6     0  Subscriber   Male  2017-01-01 00:02:54   \n",
       "1  12979232  2017      1    6     0  Subscriber   Male  2017-01-01 00:06:06   \n",
       "2  12979233  2017      1    6     0  Subscriber   Male  2017-01-01 00:07:28   \n",
       "3  12979234  2017      1    6     0  Subscriber   Male  2017-01-01 00:07:57   \n",
       "4  12979235  2017      1    6     0  Subscriber   Male  2017-01-01 00:10:44   \n",
       "\n",
       "              stoptime  tripduration       ...        from_station_id  \\\n",
       "0  2017-01-01 00:08:21      5.450000       ...                     28   \n",
       "1  2017-01-01 00:18:31     12.416667       ...                    620   \n",
       "2  2017-01-01 00:12:51      5.383333       ...                    287   \n",
       "3  2017-01-01 00:20:53     12.933333       ...                    300   \n",
       "4  2017-01-01 00:21:27     10.716667       ...                     47   \n",
       "\n",
       "                      from_station_name  latitude_start longitude_start  \\\n",
       "0            Larrabee St & Menomonee St       41.914680      -87.643320   \n",
       "1  Orleans St & Chestnut St (NEXT Apts)       41.898203      -87.637536   \n",
       "2               Franklin St & Monroe St       41.880317      -87.635185   \n",
       "3                  Broadway & Barry Ave       41.937725      -87.644095   \n",
       "4                  State St & Kinzie St       41.889187      -87.627754   \n",
       "\n",
       "   dpcapacity_start  to_station_id               to_station_name  \\\n",
       "0              15.0             20  Sheffield Ave & Kingsbury St   \n",
       "1              15.0            333    Ashland Ave & Blackhawk St   \n",
       "2              27.0             68        Clinton St & Tilden St   \n",
       "3              19.0            118       Sedgwick St & North Ave   \n",
       "4              31.0            175            Wells St & Polk St   \n",
       "\n",
       "   latitude_end longitude_end  dpcapacity_end  \n",
       "0     41.910522    -87.653106            15.0  \n",
       "1     41.907066    -87.667252            15.0  \n",
       "2     41.875885    -87.640795            23.0  \n",
       "3     41.911386    -87.638677            19.0  \n",
       "4     41.872596    -87.633502            19.0  \n",
       "\n",
       "[5 rows x 22 columns]"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "datan=datan.drop('index',axis=1)\n",
    "datan.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## EXPLORATORY DATA ANALYSIS"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x19eac08b0b8>"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "sns.barplot(x = 'month', y = datan['trip_id'].value_counts(), data = datan)\n",
    "sns.countplot(x='month', data=datan)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>THE ABOVE GRAPH PLOTS THE COUNT OF TRIPS VS MONTHS</b><br>The highest number of trips is during the <b>summer</b> as is evident from the graph"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x19eac16ab70>"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "sns.countplot(x='day', data=datan)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>THE ABOVE GRAPH PLOTS THE COUNT OF TRIPS VS DAY OF THE WEEK</b><br>We can see that the weekdays see more number of trips as compared to the weekend"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x19ea86c0f60>"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "sns.countplot(x='hour', data=datan)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<B>THE ABOVE GRAPH PLOTS THE COUNT OF TRIPS VS EACH HOUR OF THE DAY</B><br>We can see that there is a peak in the number of trips during the times from <b>7-9 am</b> in the morning and <b>4-7 pm</b> in the Evening"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x19eac1e7940>"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "sns.countplot(x='gender', data=datan)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<B>THE ABOVE GRAPH PLOTS THE NUMBER OF CUSTOMERS VS THEIR GENDER</B><BR>We can see that the number of men are nearly <b>3</b> times the number of females"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x19eac2d8d68>"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "sns.countplot(x='usertype', data=datan)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>count</th>\n",
       "      <th>mean</th>\n",
       "      <th>std</th>\n",
       "      <th>min</th>\n",
       "      <th>25%</th>\n",
       "      <th>50%</th>\n",
       "      <th>75%</th>\n",
       "      <th>max</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>usertype</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Customer</th>\n",
       "      <td>832.0</td>\n",
       "      <td>1.466081e+07</td>\n",
       "      <td>9.571017e+05</td>\n",
       "      <td>13029459.0</td>\n",
       "      <td>13909583.25</td>\n",
       "      <td>14633857.0</td>\n",
       "      <td>15307080.75</td>\n",
       "      <td>16718229.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Dependent</th>\n",
       "      <td>4.0</td>\n",
       "      <td>1.324131e+07</td>\n",
       "      <td>1.238093e+05</td>\n",
       "      <td>13070858.0</td>\n",
       "      <td>13191518.00</td>\n",
       "      <td>13272626.0</td>\n",
       "      <td>13322420.50</td>\n",
       "      <td>13349140.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Subscriber</th>\n",
       "      <td>2956854.0</td>\n",
       "      <td>1.528700e+07</td>\n",
       "      <td>1.358794e+06</td>\n",
       "      <td>12979231.0</td>\n",
       "      <td>14073315.25</td>\n",
       "      <td>15305569.0</td>\n",
       "      <td>16503471.75</td>\n",
       "      <td>17536701.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                count          mean           std         min          25%  \\\n",
       "usertype                                                                     \n",
       "Customer        832.0  1.466081e+07  9.571017e+05  13029459.0  13909583.25   \n",
       "Dependent         4.0  1.324131e+07  1.238093e+05  13070858.0  13191518.00   \n",
       "Subscriber  2956854.0  1.528700e+07  1.358794e+06  12979231.0  14073315.25   \n",
       "\n",
       "                   50%          75%         max  \n",
       "usertype                                         \n",
       "Customer    14633857.0  15307080.75  16718229.0  \n",
       "Dependent   13272626.0  13322420.50  13349140.0  \n",
       "Subscriber  15305569.0  16503471.75  17536701.0  "
      ]
     },
     "execution_count": 13,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "databyUserType=datan.groupby(\"usertype\")\n",
    "databyUserType[\"trip_id\"].describe()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "fig=datan.boxplot(by='gender',column=['tripduration'],grid=False)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>From the above boxplot we can observe that the average duration of trips of females is higher when compared to males"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "<matplotlib.axes._subplots.AxesSubplot at 0x19eba5b2a90>"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "sns.countplot(x='events', data=datan)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>Since the city in consideration, Chicago is cloudy almost the entire year, it is quite obvious that most of the trips will be during cloudy conditions "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Calculating The Distance between the Starting and End Locations of the Trip using Latitude & Longitude"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# approximate radius of earth in km\n",
    "def dis(row):\n",
    "    R = 6373.0\n",
    "    \n",
    "    lat1 = radians(row['latitude_start'])\n",
    "    lon1 = radians(row['longitude_start'])\n",
    "    lat2 = radians(row['latitude_end'])\n",
    "    lon2 = radians(row['longitude_end'])\n",
    "\n",
    "    dlon = lon2 - lon1\n",
    "    dlat = lat2 - lat1\n",
    "\n",
    "    a = sin(dlat / 2)**2 + cos(lat1) * cos(lat2) * sin(dlon / 2)**2\n",
    "    c = 2 * atan2(sqrt(a), sqrt(1 - a))\n",
    "\n",
    "    distance = (R * c)*0.621371 #converting to miles\n",
    "    return str(distance)\n",
    "\n",
    "#time to run this code in seconds\n",
    "t5=time.time()\n",
    "datan['Distance_Covered']=datan.apply(dis,axis=1)\n",
    "t6=time.time()\n",
    "print(\"Time to run this code\")\n",
    "print(t6-t5)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> Converting Latitude & Longitude to float type"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def convertToFloat(x):\n",
    "    try:\n",
    "        x = float(x)\n",
    "    except Exception:\n",
    "        x = None\n",
    "    return x"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "datan[\"latitude_start\"] = datan[\"latitude_start\"].apply(convertToFloat)\n",
    "datan[\"longitude_start\"] = datan[\"longitude_start\"].apply(convertToFloat)\n",
    "datan[\"latitude_end\"] = datan[\"latitude_end\"].apply(convertToFloat)\n",
    "datan[\"longitude_end\"] = datan[\"longitude_end\"].apply(convertToFloat)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> CREATING DUMMY VARIABLES FOR CATEGORICAL VARIABLES"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dummy_gender = pd.get_dummies(datan['gender'])\n",
    "print(dummy_gender.head()) # CREATING DUMMY VARIABLES FOR GENDER"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "datan.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "data_full = datan.join(dummy_gender)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "data_for_plot=data_full.drop([\"year\",\"Female\",\"latitude_start\",\"longitude_start\",\"latitude_end\",\"longitude_end\"],axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "data_for_plot.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## SAMPLING (To reduce the run time of code & make it more efficient)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling=data_for_plot.sample(frac=0.01) #We are sampling the data so that we can run the linear regression"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "len(dataSampling) #size of our sample data"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> PLOTTING CORRELATION MATRIX TO IDENTIFY THE CORRELATION AMONG INDEPENDENT VARIABLES"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "corr = round(dataSampling.corr(),2)\n",
    "corr.style.background_gradient()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The below cell will take a while to run \n",
    "<br><b>It will plot a pairplot among all the columns to identify any possible correlation"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#ts=time.time()\n",
    "#g = sns.pairplot(dataSampling) #The pair plot which give us the opportunity to learn about the relation about all the variables and tp come up with variables showing important trends\n",
    "#te=time.time()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#print(\"The time taken to plot the graph:\",(te=ts))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## SINGLE VARIABLE REGRESSION"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "databytemperature=data_full.groupby([\"temperature\"]) #grouping the samples based on temperature"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "data_temp=databytemperature[\"trip_id\"].count() #COunting the number of trips based on temperature"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "Temp_X=data_temp.index #Storing the indexes of  of data_temp described above as independent variable"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "Temp_Y=data_temp.values #Storing the values of  of data_temp described above as dependent variable"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> Temperature vs Number of trips"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "Temp_result = sm.ols(formula=\"Temp_Y ~ Temp_X\", data=databytemperature).fit() #Running the linear regression of number of trips on temperature\n",
    "print(Temp_result.summary()) #Printing the summary results"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>The regresion model has a p value of 0.000 which is less than the level of significance, which shows the influence of number of trips on temperature. However the R Squared Value is not that high which specifies that the model is not that efficient. There can be seen a positive correlation here.</b>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "data_tripduration=data_full['tripduration'].values #Storing the values of trip duration and taking it as the dependent variable"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "data_tripduration_temp=data_full['temperature'].values #Storing the values of temperature and taking it as independent variable\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> Trip duration vs temperature (Single-variable regression)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "Temp_trip_result = sm.ols(formula=\"data_tripduration ~ data_tripduration_temp\", data=data_full).fit() #Runnig regression of trip duration on temperature\n",
    "print(Temp_trip_result.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>The regresion model has a p value of 0.000 which is less than the level of significance. However the R Squared Value is very less which specifies that the model is not efficient. There can be seen a positive correlation here.</b>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "X_dist=data_full['temperature'].values #Storing the values of temperature and taking it as the dependent variable"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "Y_temp=data_full['Distance_Covered'].values #Storing the values of disatance covered and taking it as the independent variable"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "#Temp_dist_result = sm.ols(formula=\"Y_temp ~ X_dist\", data=data_full).fit() #Running regression of temperature on distance\n",
    "#print(Temp_dist_result.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>The regresion model has a p value of 0.000 which is less than the level of significance. However the R Squared Value is very less which specifies that the model is not efficient. There can be seen a positive correlation here.</b>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>We can see that the linear regression is not efficient and to have a better analysis we need to go for multile regression and clustering.</b>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>To apply clustering, we take some attributes such as gender, distance, time and gender to come with the prediction of types of customers"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling[\"rushhour\"]=0 #Creating an attribute of rush hour which to store the dummy variables"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling[\"weekend\"]=0 #Creating an attribute of weekend which to store the dummy variables"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling[\"distance_2\"]=0 #Creating an attribute of distance_2 which to store the dummy variables"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "dataSampling.head() #This is how the dataframe looks like"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## K-MEANS CLUSTERING"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling[\"Cluster\"]=0 #Creating one more attribute to store the number of clusters"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def tagrushhour(x):  #Defining a function to categorize the number of hours into rush hours and non rush hours  \n",
    "    if (x>=7 and x<=10) or (x>=16 and x<=19): #If rush hours (between 7am to 10 am and 4pm to 7 pm)\n",
    "        x=1 #Assign x =1\n",
    "    else: #If non rush hours\n",
    "        x=0 #Assign x=0\n",
    "    return x"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling.rushhour=list(map(tagrushhour,dataSampling.hour.values)) #Using map to apply the tagrush hour function to the dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def tagweek(x): #Defining a function to categorize the number of days into working days and weekend\n",
    "    if (x>=0 and x<=4): #If days are the working days i.e from monday to friday\n",
    "        x=0 #Assign x equals 0\n",
    "    else: #If days are of weekends i.e Saturday and Sunday\n",
    "        x=1 #Assign x equals 1\n",
    "    return x"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling[\"Distance_Covered\"] = dataSampling[\"Distance_Covered\"].apply(convertToFloat) # Converting distance covered to float type"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling.weekend=list(map(tagweek,dataSampling.day.values)) #Using map to apply the tagweek function to the dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "dataSamplingCluster=dataSampling[['Male','rushhour','weekend']].copy()\n",
    "dataSamplingCluster"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Using other libraries\n",
    "from sklearn.cluster import KMeans\n",
    "\n",
    "#Determining number of clusters\n",
    "nClusters=range(2,10)\n",
    "sumDistances=[]\n",
    "for n in nClusters:\n",
    "    kmeans=KMeans(n_clusters=n).fit(dataSamplingCluster)\n",
    "    sumDistances.append(kmeans.inertia_) #Proxy for SSE"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Plotting the Elbow Plot \n",
    "plt.plot(nClusters,sumDistances,'-')\n",
    "plt.xlabel('nClusters')\n",
    "plt.ylabel('Sum Of Distances')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>The above elbow curve shows that there is 6 or 8 number of clusters to be made. This has been made without taking the categorical distance into consideration. Now we will take distace into consideration."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "kmeans=KMeans(n_clusters=8).fit(dataSamplingCluster)\n",
    "\n",
    "dataSampling['Cluster']=kmeans.labels_\n",
    "#g = sns.pairplot(data,hue='Cluster')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSamplingCluster.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "g = sns.pairplot(dataSampling,hue='Cluster')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def tagdistance(x): #Function to categorize the distance\n",
    "    if (x<=2): #If the distance is less than or equal to 2 miles\n",
    "        x=1 #Assign x equals 1\n",
    "    else: #If the distance is more than 2 miles\n",
    "        x=0 #Assign x equals 2\n",
    "    return x"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling.distance_2=list(map(tagdistance,dataSampling.Distance_Covered.values))  #Using map to apply the tagdistance function to the dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSamplingCluster_dist=dataSampling[['Male','rushhour','weekend','distance_2']].copy() #Taking only the categorical and influential attributes"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSamplingCluster_dist.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Using other libraries\n",
    "from sklearn.cluster import KMeans\n",
    "\n",
    "#Determining number of clusters\n",
    "nClusters=range(2,10)\n",
    "sumDistances=[]\n",
    "for n in nClusters:\n",
    "    kmeans=KMeans(n_clusters=n).fit(dataSamplingCluster_dist)\n",
    "    sumDistances.append(kmeans.inertia_) #Proxy for SSE"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> Plotting K-means cluster adding Distance covered to the existing variables"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Plotting the elbow curve to determine the number of clusters\n",
    "plt.plot(nClusters,sumDistances,'-')\n",
    "plt.xlabel('nClusters')\n",
    "plt.ylabel('Sum Of Distances')\n",
    "plt.title(\"To determine the number of clusters\")\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b>The above elbow curve shows that there are 3 number of clusters to be made which implies that distance plays an important role. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "kmeans=KMeans(n_clusters=3).fit(dataSamplingCluster_dist)\n",
    "\n",
    "dataSampling['Cluster_1']=kmeans.labels_\n",
    "#g = sns.pairplot(data,hue='Cluster')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling_cols_to_keep=dataSampling[[\"trip_id\",\"tripduration\",\"temperature\",\"Distance_Covered\",\"Male\",\"Cluster_1\"]].copy()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "dataSampling_cols_to_keep"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "g = sns.pairplot(dataSampling_cols_to_keep,hue='Cluster_1',markers=[\"o\",\"s\",\"D\"],kind='reg')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## MULTI VARIABLE LINEAR REGRESSION"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling1=datan.sample(frac=0.01)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling1=dataSampling1.sort_values('trip_id')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "dataSampling1=dataSampling1.reset_index()\n",
    "dataSampling1=dataSampling1.drop(columns=['index'],axis=1)\n",
    "dataSampling1.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> Creating new column 'Rush hour' to store rush hour(1)/non-rush hour data(0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def rush(row):\n",
    "    r=0\n",
    "    if (row.hour>=7 and row.hour<=10) or (row.hour>=16 and row.hour<=19):\n",
    "        r=1\n",
    "    else:\n",
    "        r=0\n",
    "    return(r)\n",
    "dataSampling1['Rush_Hour']=dataSampling1.apply(rush,axis=1)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> Creating new column 'Weekday_Weekend' to store weekday(1) and weekend(0) information"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "def wday(row):\n",
    "    r=0\n",
    "    if row.day<=4:\n",
    "        r=1\n",
    "    elif row.day>4 and row.day<7:\n",
    "        r=0\n",
    "    return r\n",
    "dataSampling1['Weekday_Weekend']=dataSampling1.apply(wday,axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataSampling1.groupby(\"starttime\").head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import datetime\n",
    "\n",
    "def getFullDate(row):\n",
    "    temp = row[\"starttime\"].split(\" \")\n",
    "    date=temp[0]\n",
    "    date=date.replace('-','/')\n",
    "    date=datetime.datetime.strptime(date,\"%Y/%m/%d\")\n",
    "    return date\n",
    "\n",
    "\n",
    "dataSampling1[\"Date\"] = dataSampling1.apply(getFullDate, axis=1) #.apply() function applies function along input axis of DataFrame"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "temp1=dataSampling1\n",
    "temp2=dataSampling1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "rel_cols1=[\"Date\",\"Distance_Covered\",\"temperature\",\"tripduration\",\"Weekday_Weekend\"]\n",
    "rel_cols2=[\"Date\",\"trip_id\"]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "temp1=temp1[rel_cols1]\n",
    "temp2=temp2[rel_cols2]\n",
    "temp2.trip_id=1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "temp1[\"Distance_Covered\"] = temp1[\"Distance_Covered\"].apply(convertToFloat)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "x=temp1.groupby('Date').agg('mean')\n",
    "y=temp2.groupby('Date').agg('sum')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "temp1=temp1.merge(temp2)\n",
    "temp1=temp1.drop_duplicates(\"Date\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "temp1=temp1.reset_index()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "temp1.drop(\"index\",axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "for d in temp1.index.values:\n",
    "    temp1['Distance_Covered'][d]=x['Distance_Covered'][d]\n",
    "    temp1['temperature'][d]=x['temperature'][d]\n",
    "    temp1['tripduration'][d]=x['tripduration'][d]\n",
    "    temp1['Weekday_Weekend'][d]=x['Weekday_Weekend'][d]\n",
    "    temp1['trip_id'][d]=y['trip_id'][d]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "temp1=temp1.drop(\"index\",axis=1)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> DISTANCE COVERED(Y) VS TEMPERATURE, WEEKEND/WEEKDAY, TRIP DURATION (MULTI LINEAR REGRESSION)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "result = sm.ols(formula=\"Distance_Covered ~ temperature + Weekday_Weekend + tripduration \", data=temp1).fit()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "print(result.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> DISTANCE COVERED is highly correlated to TEMPERATURE, WEEKEND/WEEKDAY, TRIP DURATION with an R-sq value of 78% and has a significant relations with 0 p-value"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> NUMBER OF TRIPS(Y) VS TEMPERATURE, WEEKEND/WEEKDAY (MULTI LINEAR REGRESSION)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "result = sm.ols(formula=\"trip_id~ temperature + Weekday_Weekend \", data=temp1).fit()\n",
    "print(result.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<b> #Trips is highly correlated to TEMPERATURE, WEEKEND/WEEKDAY with an R-sq value of 78% and has a significant relations with 0 p-value"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## CHICAGO MAP"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "map_wl = folium.Map(location=[41.881832, -87.623177])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# PLOTTING THE STATIONS ON THE MAP OF CHICAGO"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<B>ORIGINALLY WE PLOTTED THE MAP USING A DICTIONARY, WHERE EACH TUPLE OF LATITUDE AND LONGITUDE IS A KEY AND THE VALUE WAS TO MEASURE WHETHER IT WAS PLOTTED OR NOT <BR> AS IT WAS NOT EFFICIENT IN TERMS OF TIME REQUIRED. SO WE DROPPED THE DUPLICATES AND PLOTTED THE SAME MAP"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "my_map_all = folium.Map(location=[41.881832, -87.623177], zoom_start=15)\n",
    "tempdf=datan\n",
    "tempdf=tempdf.drop_duplicates(subset='from_station_name', keep=\"last\")\n",
    "tempdf=tempdf.reset_index()\n",
    "tempdf=tempdf.drop(columns=\"index\")\n",
    "for d in tempdf.index.values:\n",
    "    points=[]\n",
    "    points.append(tuple([tempdf.latitude_start[d],tempdf.longitude_start[d]]))\n",
    "    folium.Marker(points[0],icon=folium.Icon(color='blue'),popup=datan.from_station_name[d]).add_to(my_map_all)\n",
    "my_map_all.save(\"All Stations.html\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "my_map_all"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# PLOTTING THE TOP 5 STATIONS "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "my_map = folium.Map(location=[41.881832, -87.623177], zoom_start=15)\n",
    "c=0\n",
    "for d in tempdf.index.values:\n",
    "    if tempdf.from_station_name[d]=='Canal St & Adams St' or tempdf.from_station_name[d]=='Clinton St & Washington Blvd'\\\n",
    "        or tempdf.from_station_name[d]=='Clinton St & Madison St' or tempdf.from_station_name[d]=='Kingsbury St & Kinzie St'\\\n",
    "        or tempdf.from_station_name[d]=='Franklin St & Monroe St' and c<5:\n",
    "        points=[]\n",
    "        points.append(tuple([tempdf.latitude_start[d],tempdf.longitude_start[d]]))\n",
    "        folium.Marker(points[0],icon=folium.Icon(color='blue'),popup=datan.from_station_name[d]).add_to(my_map)\n",
    "        c+=1\n",
    "    \n",
    "# Load map centred on average coordinates\n",
    " \n",
    "#add a markers\n",
    " \n",
    "#fadd lines\n",
    " \n",
    "# Save map\n",
    "my_map.save(\"Top 5 Stations.html\")\n",
    "my_map"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# HEATMAP OF THE STATIONS DURING PEAK/RUSH HOURS"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "stops_heatmap = folium.Map(location=[41.881832, -87.623177], zoom_start=15)\n",
    "for name, row in datan.iloc[:1000].iterrows():\n",
    "    if (row.hour>=7 and row.hour<=10) or (row.hour>=7 and row.hour<=10):\n",
    "        stops_heatmap.add_child(plugins.HeatMap([[row[\"latitude_start\"], row[\"longitude_start\"]]]))\n",
    "stops_heatmap.save(\"heatmapfav.html\")\n",
    "stops_heatmap"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# ROUTES FROM TOP 5"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "my_map_fav = folium.Map(location=[41.881832, -87.623177], zoom_start=14)\n",
    "c1=0\n",
    "c2=0\n",
    "c3=0\n",
    "c4=0\n",
    "c5=0\n",
    "for d in datan.index.values:\n",
    "    if(c1<=5 or c2<=5 or c3<=5 or c4<=5 or c5<=5) and ((datan.hour[d]>=7 and datan.hour[d]<=10) or (datan.hour[d]>=7 and datan.hour[d]<=10)): \n",
    "        if datan.from_station_name[d]=='Canal St & Adams St' or datan.from_station_name[d]=='Clinton St & Washington Blvd'\\\n",
    "        or datan.from_station_name[d]=='Clinton St & Madison St' or datan.from_station_name[d]=='Kingsbury St & Kinzie St'\\\n",
    "        or datan.from_station_name[d]=='Franklin St & Monroe St':\n",
    "            points=[]\n",
    "            points.append(tuple([datan.latitude_start[d],datan.longitude_start[d]]))\n",
    "            points.append(tuple([datan.latitude_end[d],datan.longitude_end[d]]))\n",
    "            i=1\n",
    "            for each in points:  \n",
    "                if datan.from_station_name[d]=='Canal St & Adams St' and c1<=5:\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red')).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                        c1+=1\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='blue'),popup='Canal St & Adams St').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                elif datan.from_station_name[d]=='Clinton St & Washington Blvd' and c2<=5:\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red')).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                        c2+=1\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='blue'),popup='Clinton St & Washington Blvd').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                elif datan.from_station_name[d]=='Kingsbury St & Kinzie St' and c3<=5:\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red')).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                        c3+=1\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='blue'),popup='Kingsbury St & Kinzie St').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                elif datan.from_station_name[d]=='Franklin St & Monroe St' and c4<=5:\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red')).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                        c4+=1\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='blue'),popup='Franklin St & Monroe St').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                elif datan.from_station_name[d]=='Clinton St & Madison St' and c5<=5:\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red')).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                        c5+=1\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='indigo'),popup='Clinton St & Madison St').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"red\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "my_map_fav.save(\"Rush Hour Routes starting From Top 5 Stations.html\")\n",
    "my_map_fav"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# HEAT MAP OF THE STATIONS IN CHICAGO"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "stops_heatmap = folium.Map(location=[41.881832, -87.623177], zoom_start=16)\n",
    "stops_heatmap.add_child(plugins.HeatMap([[row[\"latitude_start\"], row[\"longitude_start\"]] for name, row in datan.iloc[:1000].iterrows()]))\n",
    "stops_heatmap.save(\"heatmap.html\")\n",
    "stops_heatmap"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Most popular starting point"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "x=datan.groupby('from_station_name')\n",
    "y=x.trip_id.count().sort_values(ascending=False)\n",
    "print(y)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# WE'RE PLOTTING JOURNEYS THAT ORIGINATED FROM <BR>THE TOP 5 POPULAR STATIONS"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "my_map_fav = folium.Map(location=[41.881832, -87.623177], zoom_start=14)\n",
    "c=0\n",
    "for d in datan.index.values:\n",
    "    if(c<=5000):\n",
    "        if datan.from_station_name[d]=='Canal St & Adams St' or datan.from_station_name[d]=='Clinton St & Washington Blvd'\\\n",
    "        or datan.from_station_name[d]=='Clinton St & Madison St' or datan.from_station_name[d]=='Kingsbury St & Kinzie St'\\\n",
    "        or datan.from_station_name[d]=='Franklin St & Monroe St':\n",
    "            points=[]\n",
    "            points.append(tuple([datan.latitude_start[d],datan.longitude_start[d]]))\n",
    "            points.append(tuple([datan.latitude_end[d],datan.longitude_end[d]]))\n",
    "            i=1\n",
    "            c+=1\n",
    "            for each in points:  \n",
    "                if datan.from_station_name[d]=='Canal St & Adams St':\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red'),popup=datan.to_station_name[d]).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"black\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='black'),popup='Canal St & Adams St').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"black\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                elif datan.from_station_name[d]=='Clinton St & Washington Blvd':\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red'),popup=datan.to_station_name[d]).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"blue\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='blue'),popup='Clinton St & Washington Blvd').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"blue\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                elif datan.from_station_name[d]=='Kingsbury St & Kinzie St':\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red'),popup=datan.to_station_name[d]).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"green\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='green'),popup='Kingsbury St & Kinzie St').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"green\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                elif datan.from_station_name[d]=='Franklin St & Monroe St':\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red'),popup=datan.to_station_name[d]).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"yellow\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='yellow'),popup='Franklin St & Monroe St').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"yellow\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                elif datan.from_station_name[d]=='Clinton St & Madison St':\n",
    "                    if(i%2==0):\n",
    "                        folium.Marker(each,icon=folium.Icon(color='red'),popup=datan.to_station_name[d]).add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"indigo\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "                    else:\n",
    "                        i+=1\n",
    "                        folium.Marker(each,icon=folium.Icon(color='indigo'),popup='Clinton St & Madison St').add_to(my_map_fav)\n",
    "                        folium.PolyLine(points, color=\"indigo\", weight=2.5, opacity=1).add_to(my_map_fav)\n",
    "my_map_fav.save(\"favroute.html\")\n",
    "my_map_fav"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## SURVEY SIMULATION  (We created a new design for females and this simulation shows the survey results if female riders are willing to use the service spost that or not)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "di={}\n",
    "di['Yes']=0\n",
    "di['No']=0\n",
    "di['Unsure']=0\n",
    "for i in range(10000):\n",
    "    pyes=np.random.uniform(0.3,0.35)\n",
    "    pno=np.random.uniform(0.20,0.25)\n",
    "    pud=1-(pyes+pno)\n",
    "    survey=np.random.choice(['Yes','No','Unsure'],p=[pyes,pno,pud],size=1)\n",
    "    for j in range(len(survey)):\n",
    "        di[survey[j]]+=1\n",
    "plt.bar(di.keys(),di.values(),width=0.1)\n",
    "print(di)\n",
    "t1=time.time()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## TIME COMPLEXITY (TIME TO RUN THE ENTIRE CODE)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "print(\"Time Required to run the entire notebook:\",(t1-t0))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "t=[0.0]*3\n",
    "ctr=0\n",
    "x=[0.01,0.02,0.03]\n",
    "for d in x:\n",
    "    if ctr<3:\n",
    "        dataSampling3=datan.sample(frac=d)\n",
    "        dataSampling3=dataSampling3.sort_values('trip_id')\n",
    "        dataSampling3=dataSampling3.reset_index()\n",
    "        dataSampling3=dataSampling3.drop(columns=['index'],axis=1)\n",
    "        dataSampling3.head()\n",
    "        dataSampling3['Rush_Hour']=dataSampling3.apply(rush,axis=1)\n",
    "        dataSampling3['Weekday_Weekend']=dataSampling3.apply(wday,axis=1)\n",
    "        dataSampling3.groupby(\"starttime\").head()\n",
    "        dataSampling3[\"Date\"] = dataSampling3.apply(getFullDate, axis=1) #.apply() function applies function along input axis of DataFrame\n",
    "        t3=time.time()\n",
    "        temp1=dataSampling3\n",
    "        temp2=dataSampling3\n",
    "        rel_cols1=[\"Date\",\"Distance_Covered\",\"temperature\",\"tripduration\",\"Weekday_Weekend\"]\n",
    "        rel_cols2=[\"Date\",\"trip_id\"]\n",
    "        temp1=temp1[rel_cols1]\n",
    "        temp2=temp2[rel_cols2]\n",
    "        temp2.trip_id=1\n",
    "        temp1[\"Distance_Covered\"] = temp1[\"Distance_Covered\"].apply(convertToFloat)\n",
    "        x=temp1.groupby('Date').agg('mean')\n",
    "        y=temp2.groupby('Date').agg('sum')\n",
    "        temp1=temp1.merge(temp2)\n",
    "        temp1=temp1.drop_duplicates(\"Date\")\n",
    "        temp1=temp1.reset_index()\n",
    "        temp1.drop(\"index\",axis=1)\n",
    "        for d in temp1.index.values:\n",
    "            temp1['Distance_Covered'][d]=x['Distance_Covered'][d]\n",
    "            temp1['temperature'][d]=x['temperature'][d]\n",
    "            temp1['tripduration'][d]=x['tripduration'][d]\n",
    "            temp1['Weekday_Weekend'][d]=x['Weekday_Weekend'][d]\n",
    "            temp1['trip_id'][d]=y['trip_id'][d]\n",
    "        temp1=temp1.drop(\"index\",axis=1)\n",
    "        result = sm.ols(formula=\"Distance_Covered ~ temperature + Weekday_Weekend + tripduration \", data=temp1).fit()\n",
    "        #print(\"Sample size\",d,\"\\n\",result.summary())\n",
    "        result = sm.ols(formula=\"trip_id~ temperature + Weekday_Weekend \", data=temp1).fit()\n",
    "        #print(\"Sample size\",d,\"\\n\",result.summary())\n",
    "        result = sm.ols(formula=\"tripduration ~ temperature + Weekday_Weekend \", data=temp1).fit()\n",
    "        #print(\"Sample size\",d,\"\\n\",result.summary())\n",
    "        t4=time.time()\n",
    "        t[ctr]=t4-t3\n",
    "        ctr+=1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "print(\"Time Required for Sample sizes 1x,2x and 3x is\",(t),\" seconds\")"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
